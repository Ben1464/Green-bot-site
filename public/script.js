const solutions = [
    { 
        problem: "Thrips", 
        infestationimage: "images/thrips.jpg",
        description: "Thrips infestations pose a serious threat to coffee production, impacting on the tree health and berries quality. Vigilance and prompt action are essential for mitigating these pest's impact. By employing early detection methods and implementing appropriate management strategies, coffee farmers can protect their crops and ensure a sustainable yield in the face of thrips infestations.",
        solution: "To eradicate them use Kingcode 10mls + Integra 3mls/20ltrs of water.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "images/Kingcode-elite-2048x2048.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (200-250),Ksh (300-350),Ksh (650-750),Ksh (2900-3000)"
    },
    { 
        problem: "Kingcode Elite", 
        infestationimage: "images/Kingcode-elite-2048x2048.webp",
        description: "Kingcode Elite® 50EC is a highly systemic and contact insecticide and is active against all sucking and chewing pests like thrips,white flies,aphids,mealybugs,leafminers,berrybores and berry moths with broad spectrum long residual activity.",
        solution: "Use Kingcode 10mls/20ltrs plus Integra 3mls/20ltrs of water.After spotting cases of infrstation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (200-250),Ksh (300-350),Ksh (650-750),Ksh (2900-3000)"
       
    },
    { 
        problem: "Kingcode Elite ", 
        infestationimage: "images/Kingcode-elite-2048x2048.webp",
        description: "Kingcode Elite® 50EC is a highly systemic and contact insecticide and is active against all sucking and chewing pests like thrips,white flies,aphids,mealybugs,leafminers,berrybores and berry moths with broad spectrum long residual activity.",
        solution: "Use Kingcode 10mls/20ltrs plus Integra 3mls/20ltrs of water.After spotting cases of infrstation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (200-250),Ksh (300-350),Ksh (650-750),Ksh (2900-3000)"
       
    },
    { 
        problem: "Kingcode", 
        infestationimage: "images/Kingcode-elite-2048x2048.webp",
        description: "Kingcode Elite® 50EC is a highly systemic and contact insecticide and is active against all sucking and chewing pests like thrips,white flies,aphids,mealybugs,leafminers,berrybores and berry moths with broad spectrum long residual activity.",
        solution: "Use Kingcode 10mls/20ltrs plus Integra 3mls/20ltrs of water.After spotting cases of infrstation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (200-250),Ksh (300-350),Ksh (650-750),Ksh (2900-3000)"
       
    },
    { 
        problem: "Kingcode ", 
        infestationimage: "images/Kingcode-elite-2048x2048.webp",
        description: "Kingcode Elite® 50EC is a highly systemic and contact insecticide and is active against all sucking and chewing pests like thrips,white flies,aphids,mealybugs,leafminers,berrybores and berry moths with broad spectrum long residual activity.",
        solution: "Use Kingcode 10mls/20ltrs plus Integra 3mls/20ltrs of water.After spotting cases of infrstation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/thrips.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (200-250),Ksh (300-350),Ksh (650-750),Ksh (2900-3000)"
       
    },
    { 
        problem: "Presento", 
        infestationimage: "images/PRESENTO-KG-2048x2048.webp",
        description:"Presento® 200SP is a highly systemic insecticide for foliar and stem application and is active particularly against a range of pests like thrips,leafminers,aphids and whiteflies with broad spectrum,long residual activity widely used in coffee,ornamentals and edible crops.",
        solution: "Use Presento 10gms/20ltrs + Integra 3mls after spotting infestation cases.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/aphids.webp",
        availablepacksize:"20gms,100gms,250gms, 1Kg.",
        pricerange:"Ksh (150-200),Ksh (400-450),Ksh (1200-1300),Ksh (3400-3600)"
    },
    { 
        problem: "Presento ", 
        infestationimage: "images/PRESENTO-KG-2048x2048.webp",
        description:"Presento® 200SP is a highly systemic insecticide for foliar and stem application and is active particularly against a range of pests like thrips,leafminers,aphids and whiteflies with broad spectrum,long residual activity widely used in coffee,ornamentals and edible crops.",
        solution: "Use Presento 10gms/20ltrs + Integra 3mls after spotting infestation cases.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/aphids.webp",
        availablepacksize:"20gms,100gms,250gms, 1Kg.",
        pricerange:"Ksh (150-200),Ksh (400-450),Ksh (1200-1300),Ksh (3400-3600)"
    },
    { 
        problem: "Ranger", 
        infestationimage: "./images/ranger-480EC.webp",
        description: "Ranger® 480EC is a non-systemic contact and stomach insecticide for foliar and stem application that is active against a range of insects widely used  in controlling pests like scales,thrips,aphids,mealybugs and leafminers in crops like miraa, muguka,coffee,rice and fruit trees . It is also used as termiticide for termites in fruit trees.",
        solution: "Use Ranger 40mls plus Integra 3mls/20ltrs of water during the onset of infestation,when you are not havesting your berries.",
        sprayingintervals: "Reapeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/scalesm.jpg",
        availablepacksize:"100mls,250mls,500mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-650),Ksh 1050-1100),1ltr(Ksh 1800-2000)"
    },
    { 
        problem: "Ranger ", 
        infestationimage: "./images/ranger-480EC.webp",
        description: "Ranger® 480EC is a non-systemic contact and stomach insecticide for foliar and stem application that is active against a range of insects widely used  in controlling pests like scales,thrips,aphids,mealybugs and leafminers in crops like miraa, muguka,coffee,rice and fruit trees . It is also used as termiticide for termites in fruit trees.",
        solution: "Use Ranger 40mls plus Integra 3mls/20ltrs of water during the onset of infestation,when you are not havesting your berries.",
        sprayingintervals: "Reapeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/scalesm.jpg",
        availablepacksize:"100mls,250mls,500mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-650),Ksh 1050-1100),1ltr(Ksh 1800-2000)"
    },
    { 
        problem: "Lexus", 
        infestationimage: "images/Lexus-247SC.webp",
        description: "Lexus® 247SC is broad spectrum systemic insecticide for control of scales,Leaf miners,berry borer,berry moth, aphids, whiteflies, diamond back moth, thrips and caterpillars on Coffee,Miraa,Muguka and Vegetables.",
        solution: "Use Lexus 10mls + Integra 3mls/20ltrs of water upon spotting cases of infestation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/whiteflies.webp",
        availablepacksize:"40mls,100mls,1ltr.",
        pricerange:"40mlsKsh(250-300),Ksh(600-700),Ksh(6500-6800)"
    },
    { 
        problem: "Lexus ", 
        infestationimage: "images/Lexus-247SC.webp",
        description: "Lexus® 247SC is broad spectrum systemic insecticide for control of scales,Leaf miners,berry borer,berry moth, aphids, whiteflies, diamond back moth, thrips and caterpillars on Coffee,Miraa,Muguka and Vegetables.",
        solution: "Use Lexus 10mls + Integra 3mls/20ltrs of water upon spotting cases of infestation.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/whiteflies.webp",
        availablepacksize:"40mls,100mls,1ltr.",
        pricerange:"40mlsKsh(250-300),Ksh(600-700),Ksh(6500-6800)"
    },
    { 
        problem: "Bazooka", 
        infestationimage: "images/Bazooka-2048x2048.webp",
        description:"Bazooka® 18EC is an insecticide/miticide highly effective via contact and translaminar activities which is used to control pests like red spindermites,thrips and leafminers in ,miraa,muguka,fruits,vegetable and ornamental crops.",
        solution: "Spray 10mls/20ltrs plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/redspidermites.jpg",
        availablepacksize:"50mls,100mls,250mls,500ls,1ltr.",
        pricerange:"Ksh( 150-200),Ksh (300-350),Ksh (600-650),Ksh (1600-1700)"
    },
    { 
        problem: "Bazooka ", 
        infestationimage: "images/Bazooka-2048x2048.webp",
        description:"Bazooka® 18EC is an insecticide/miticide highly effective via contact and translaminar activities which is used to control pests like red spindermites,thrips and leafminers in ,miraa,muguka,fruits,vegetable and ornamental crops.",
        solution: "Spray 10mls/20ltrs plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/redspidermites.jpg",
        availablepacksize:"50mls,100mls,250mls,500mls,1ltr.",
        pricerange:"Ksh( 150-200),Ksh (300-350),Ksh (600-650),Ksh (1600-1700)"
    },
    { 
        problem: "Alonze", 
        infestationimage: "./images/Alonze_50EC.webp",
        description:"Alonze® 50EC is an insecticide, miticide, and nematicide highly effective through contact and translaminar activities which is used to control Spidermites, Thrips, Leafminers, and Nematodes in Miraa, Muguka, Fruits, Vegetables, and Ornamental Crops.",
        solution: "Spray 5mls plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/onion_thrips.webp",
        availablepacksize:"25mls,50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh( 200-300),Ksh (450-550),Ksh (850-950),Ksh (2000-2200),Ksh (7900-8100)"
    },
    { 
        problem: "Alonze ", 
        infestationimage: "./images/Alonze_50EC.webp",
        description:"Alonze® 50EC is an insecticide, miticide, and nematicide highly effective through contact and translaminar activities which is used to control Spidermites, Thrips, Leafminers, and Nematodes in Miraa, Muguka, Fruits, Vegetables, and Ornamental Crops.",
        solution: "Spray 5mls plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/onion_thrips.webp",
        availablepacksize:"25mls,50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh( 200-300),Ksh (450-550),Ksh (850-950),Ksh (2000-2200),Ksh (7900-8100)"
    },
    { 
        problem: "Profile", 
        infestationimage: "./images/Profile-.webp",
        description:"Profile® 440EC is an enhanced contact and stomach action Insecticide for foliar and stem application and is active particularly against sucking and chewing pests with broad spectrum long residual activity widely used in agriculture for controlling pests like thrips,whiteflies,aphids and fruitflies in a broad range of edible crops like fruits,vegetables and ornamentals.",
        solution: "Start spraying 30mls/20ltrs plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/fruitfly.jpg",
        availablepacksize:"100mls,250mls,500mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (750-800),Ksh (1400-1450),Ksh (2600-2750)"
    },
    { 
        problem: "Profile ", 
        infestationimage: "./images/Profile-.webp",
        description:"Profile® 440EC is an enhanced contact and stomach action Insecticide for foliar and stem application and is active particularly against sucking and chewing pests with broad spectrum long residual activity widely used in agriculture for controlling pests like thrips,whiteflies,aphids and fruitflies in a broad range of edible crops like fruits,vegetables and ornamentals.",
        solution: "Start spraying 30mls/20ltrs plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/fruitfly.jpg",
        availablepacksize:"100mls,250mls,500mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (750-800),Ksh (1400-1450),Ksh (2600-2750)"
    },
    { 
        problem: "Escort", 
        infestationimage: "./images/Escort.webp",
        description:"A highly effective natural insecticide containing Emamectin benzoate that targets a wide range lepidopteran insect pests such as fall armyworms, caterpillars, tuta absoluta, thrips, spider mites and diamondback among others on wide range of agricultural crops.",
        solution: "Spray 20mls-25mls/ plus Integra 3mls/20ltrs of water,for preventive and eradication actions. When controlling fallarmy worms spray during the evening hours for effective eradication.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/fallarmy.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-700),Ksh (1200-1250),Ksh (4100-4200)"
    },

 { 
        problem: "Escort ", 
        infestationimage: "./images/Escort.webp",
        description:"A highly effective natural insecticide containing Emamectin benzoate that targets a wide range lepidopteran insect pests such as fall armyworms, caterpillars, tuta absoluta, thrips, spider mites and diamondback among others on wide range of agricultural crops.",
        solution: "Spray 20mls-25mls/ plus Integra 3mls/20ltrs of water,for preventive and eradication actions. When controlling fallarmy worms spray during the evening hours for effective eradication.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/fallarmy.jpg",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-700),Ksh (1200-1250),Ksh (4100-4200)"
    },
    { 
        problem: "Pentagon", 
        infestationimage: "./images/Pentagon--2048x2048.webp",
        description:"Pentagon® 50 EC is a highly active contact and ingestion insecticide active particularly against sucking and chewing insects and has long residual activity. It is widely used for controlling insect pests in a broad range of edible and ornamental crops.It has a PHI of three days hence perfect to use on vegetables.",
        solution: "Spray 10mls plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/kalespest.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-700),Ksh (1200-1250),Ksh (4100-4200)"
    },
    { 
        problem: "Pentagon ", 
        infestationimage: "./images/Pentagon--2048x2048.webp",
        description:"Pentagon® 50 EC is a highly active contact and ingestion insecticide active particularly against sucking and chewing insects and has long residual activity. It is widely used for controlling insect pests in a broad range of edible and ornamental crops.It has a PHI of three days hence perfect to use on vegetables.",
        solution: "Spray 10mls plus Integra 3mls/20ltrs of water,for preventive and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/kalespest.webp",
        availablepacksize:"50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (300-350),Ksh (600-700),Ksh (1200-1250),Ksh (4100-4200)"
    },
    { 
        problem: "Indoking", 
        infestationimage: "./images/Indoking-1L-2048x2048.webp",
        description:"An excellent broad spectrum contact and ingestion insecticide for control of lepidopteran insect pests like tuta absoluta,DBM and fall armyworms on a wide range of crops",
        solution: "Spray 3-5mls plus Integra 3mls/20ltrs of water,for prevention and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/tuta.jpg",
        availablepacksize:"25mls,50mls,100mls,250mls,500,1ltr.",
        pricerange:"Ksh (600-700),Ksh (1200-1300),Ksh (2300-2400),Ksh (5300-5400),Ksh (10400-10600), Ksh (19700-20900)"
    },
    { 
        problem: "Indoking ", 
        infestationimage: "./images/Indoking-1L-2048x2048.webp",
        description:"An excellent broad spectrum contact and ingestion insecticide for control of lepidopteran insect pests like tuta absoluta,DBM and fall armyworms on a wide range of crops",
        solution: "Spray 3-5mls plus Integra 3mls/20ltrs of water,for prevention and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/tuta.jpg",
        availablepacksize:"25mls,50mls,100mls,250mls,500,1ltr.",
        pricerange:"Ksh (600-700),Ksh (1200-1300),Ksh (2300-2400),Ksh (5300-5400),Ksh (10400-10600), Ksh (19700-20900)"
    },

{ 
        problem: "Occasion Star", 
        infestationimage: "./images/occasion-star.webp",
        description:"A unique brand new insecticide combination of Emamectin benzoate and Indoxacarb with contact and stomach action for broad spectrum control of chewing insects such as tuta absoluta, caterpillars, leaf miners, bollworms, fall armyworms, false codling moths, webworms, budworms, leafworms, thrips and also spider mites in ornamentals, cereals and vegetables.",
        solution: "Spray 3-5mls plus Integra 3mls/20ltrs of water,for prevention and eradication actions.",
        sprayingintervals: "Repeat spray after 21 days. If the infestation is adverse repeat after 14 days.",
        image: "./images/ballwarm.jpg",
        availablepacksize:"25mls,50mls,100mls,250mls,1ltr.",
        pricerange:"Ksh (550-600),Ksh (1050-1100),Ksh (1900-2000), Ksh (4400-4800),Ksh (17000-18000), "
    },

]

function searchSolutions() {
    const searchInput = document.getElementById("searchInput").value.toLowerCase();
    const solutionResults = document.getElementById("solutionResults");
    solutionResults.innerHTML = "";

    const filteredSolutions = solutions.filter(solution => {
        const problemName = solution.problem.toLowerCase();
        // Check if the full problem name matches the search input exactly
        return problemName == searchInput;
    });

    if (filteredSolutions.length === 0) {
        solutionResults.innerHTML = "<p>Kindly check your spelling or try rephrasing your search again.</p>";
    } else {
        filteredSolutions.forEach(solution => {
            const solutionDiv = document.createElement("div");
            solutionDiv.classList.add("solution");
            solutionDiv.innerHTML = `
                <h3>${solution.problem}</h3>
                <img src="${solution.infestationimage}" alt="${solution.problem}">
                <h3>Description:</h3>
                <p>${solution.description}</p>
                <h3>Solution:</h3>
                <p>${solution.solution}</p>
                <img src="${solution.image}" alt="${solution.problem}">
                <h3>Spraying Intervals:</h3>
                <p>${solution.sprayingintervals}</p>
                <h3>Available Pack Size:</h3>
                <table>
                    <tr>
                        <th>Pack Size</th>
                        <th>Price Range</th>
                    </tr>
                    ${solution.availablepacksize.split(',').map((size, index) => `
                        <tr>
                            <td>${size}</td>
                            <td>${solution.pricerange.split(',')[index]}</td>
                        </tr>
                    `).join('')}
                </table>`;
            
            solutionResults.appendChild(solutionDiv);
        });
    }
}

function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

// Function to handle automatic search based on URL parameter
function handleAutomaticSearch() {
    const searchQuery = getQueryParam('search');
    if (searchQuery) {
        // Perform search based on the query parameter
        document.getElementById("searchInput").value = searchQuery;
        searchSolutions();
    }
}

// Call the function to handle automatic search when the page loads
window.onload = function() {
    handleAutomaticSearch(); // Perform automatic search based on URL parameter
};
